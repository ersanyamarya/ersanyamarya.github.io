{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport Layout from '../components/Layout';\nimport * as React from 'react';\nimport './blog.scss';\nimport { findAllPosts, getImage } from '../utils/flameLinkUtils';\nimport Link from 'next/link';\n\nvar BlogsPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BlogsPage, _React$Component);\n\n  function BlogsPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BlogsPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BlogsPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      height: 7,\n      expandedHeight: 7,\n      collapsedHeight: 3.5,\n      scrollAt: 100\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAllBlogs\", function (items) {\n      return items.map(function (blog, index) {\n        return (// <Link  href={{ pathname: '/post', query: { id: blog.fields.slug } }} as={`/post/${blog.fields.slug}`} >\n          React.createElement(Link, {\n            prefetch: true,\n            key: index,\n            as: \"/post/\".concat(blog.slug),\n            href: \"/post?slug=\".concat(blog.slug)\n          }, React.createElement(\"div\", {\n            className: \"card\",\n            style: {\n              animationDelay: \"\".concat(index * 0.5, \"s\")\n            }\n          }, blog.featuredImage && React.createElement(\"img\", {\n            src: getImage(blog.imageName),\n            alt: blog.slug\n          }), React.createElement(\"div\", {\n            className: \"cardContent\"\n          }, React.createElement(\"h2\", null, \" \", blog.title), React.createElement(\"p\", null, blog.summary, React.createElement(\"br\", null), React.createElement(\"strong\", null, \"Continue reading ....\")), React.createElement(\"h3\", null, blog.category))))\n        );\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"divScroller\", function (e) {\n      var _this$state = _this.state,\n          scrollAt = _this$state.scrollAt,\n          expandedHeight = _this$state.expandedHeight,\n          collapsedHeight = _this$state.collapsedHeight;\n      var scrollTop = e.target.scrollTop;\n      if (scrollTop > scrollAt) _this.setState({\n        height: collapsedHeight\n      });else if (scrollTop < scrollAt) _this.setState({\n        height: expandedHeight\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(BlogsPage, [{\n    key: \"render\",\n    value: function render() {\n      var items = this.props.items;\n      var _this$state2 = this.state,\n          height = _this$state2.height,\n          expandedHeight = _this$state2.expandedHeight,\n          collapsedHeight = _this$state2.collapsedHeight;\n      return React.createElement(Layout, null, React.createElement(\"div\", {\n        className: \"blogsContainer\"\n      }, React.createElement(\"div\", {\n        className: \"head\",\n        style: {\n          height: \"\".concat(height, \"rem\")\n        }\n      }, React.createElement(\"h3\", null, \"Sanyam Arya\"), React.createElement(\"input\", {\n        className: \"search\",\n        id: \"header\",\n        type: \"text\",\n        name: \"search\",\n        placeholder: \"Search..\"\n      })), React.createElement(\"div\", {\n        className: \"main\",\n        onScroll: this.divScroller,\n        style: {\n          marginTop: height === 7 ? \"\".concat(expandedHeight, \"rem\") : \"\".concat(collapsedHeight, \"rem\")\n        }\n      }, React.createElement(\"div\", {\n        className: \"equalMargin\"\n      }, _Array$isArray(items) && this.getAllBlogs(items)))));\n    }\n  }]);\n\n  return BlogsPage;\n}(React.Component);\n\n_defineProperty(BlogsPage, \"getInitialProps\",\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee() {\n  var items;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return findAllPosts();\n\n        case 2:\n          items = _context.sent;\n          items = [].concat(_toConsumableArray(items), _toConsumableArray(items), _toConsumableArray(items));\n          return _context.abrupt(\"return\", {\n            items: items\n          });\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})));\n\n;\nexport default BlogsPage;","map":null,"metadata":{},"sourceType":"module"}