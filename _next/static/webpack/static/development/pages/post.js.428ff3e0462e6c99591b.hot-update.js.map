{"version":3,"file":"static/webpack/static/development/pages/post.js.428ff3e0462e6c99591b.hot-update.js","sources":["webpack:///./pages/post.tsx"],"sourcesContent":["import * as React from 'react'\nimport { NextContext } from 'next'\nimport Layout from '../components/Layout'\nimport { ISeo, IncomingContentful } from '../interfaces';\nimport { findOnePost } from '../utils/contentfulUtils'\n\ntype RequestQuery = {\n  slug: string,\n}\n\ntype Props = {\n  item: IncomingContentful,\n  errors?: string\n}\n\nclass BlogPostPage extends React.Component<Props> {\n  static getInitialProps = async ({ query }: NextContext<RequestQuery>) => {\n  \n    try {\n      const item = await findOnePost(query.slug);\n      return { item }\n    } catch (err) {\n      return { errors: err.message }\n    }\n  }\n\n  render() {\n    const { item, errors } = this.props;\n\n    if (errors) {\n      return (\n        <Layout>\n          <p><span style={{ color: 'red' }}>Error:</span> {errors}</p>\n        </Layout>\n      )\n    }\n    \n    const seoMeta: ISeo = {\n      title: item.fields.title,\n      description: item.fields.description,\n      twitterDescription: item.fields.twitterDescription,\n      image: ((item.fields.featuredImage) ? `https:${item.fields.featuredImage.fields.file.url}` : 'https://avatars1.githubusercontent.com/u/28115284?s=460&v=4'),\n      keywords: item.fields.keywords,\n      type: 'article',\n      url: `sanyamarya.io/post?slug=${item.fields.slug}`,\n      article:{\n        published_on:item.fields.publishedOn,\n        section:item.fields.category.toString()\n      }\n    }\n    console.log(seoMeta);\n    \n    return (\n      <Layout seo={seoMeta}>\n        {item.fields.featuredImage && <img src={item.fields.featuredImage.fields.file.url}\n          alt={item.fields.featuredImage.fields.file.fileName} />}\n        <h1>{item.fields.title}</h1>\n\n      </Layout>\n    )\n  }\n}\n\nexport default BlogPostPage\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AACA;AAUA;;;;;;;;;;;;;AAWA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AARA;AAaA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AA7CA;AACA;AADA;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAHA;AAIA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAMA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AA8CA;;;;A","sourceRoot":""}